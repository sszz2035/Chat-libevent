# Chat Client - èŠå¤©å®¢æˆ·ç«¯

ä¸€ä¸ªåŸºäº Qt6 å¼€å‘çš„ç°ä»£åŒ–èŠå¤©å®¢æˆ·ç«¯åº”ç”¨ï¼Œæ”¯æŒå³æ—¶é€šè®¯ã€ç¾¤ç»„èŠå¤©ã€AI åŠ©æ‰‹ç­‰åŠŸèƒ½ã€‚

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**ï¼šç™»å½•ã€æ³¨å†Œã€å¯†ç ç®¡ç†
- ğŸ’¬ **å³æ—¶é€šè®¯**ï¼šæ”¯æŒæ–‡æœ¬æ¶ˆæ¯ã€å›¾ç‰‡ã€æ–‡ä»¶ä¼ è¾“
- ğŸ‘¥ **ç¾¤ç»„èŠå¤©**ï¼šåˆ›å»ºç¾¤ç»„ã€ç¾¤æˆå‘˜ç®¡ç†
- ğŸ“± **è”ç³»äººç®¡ç†**ï¼šå¥½å‹åˆ†ç»„ã€çŠ¶æ€æ˜¾ç¤º
- ğŸ¤– **AI åŠ©æ‰‹**ï¼šé›†æˆ DeepSeek APIï¼Œæ”¯æŒæ™ºèƒ½å¯¹è¯

### ç‰¹è‰²åŠŸèƒ½
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šåŸºäº ElaWidgetTools çš„ç¾è§‚ç•Œé¢
- ğŸ“¸ **æˆªå›¾åŠŸèƒ½**ï¼šå†…ç½®æˆªå›¾å·¥å…·
- ğŸ˜Š **è¡¨æƒ…ç³»ç»Ÿ**ï¼šä¸°å¯Œçš„è¡¨æƒ…é€‰æ‹©å™¨
- ğŸ“ **æ¶ˆæ¯æ°”æ³¡**ï¼šä¼˜é›…çš„èŠå¤©æ°”æ³¡æ˜¾ç¤º
- ğŸ”” **æ¶ˆæ¯é€šçŸ¥**ï¼šå®æ—¶æ¶ˆæ¯æé†’
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**ï¼šç”¨æˆ·ä¿¡æ¯ç®¡ç†

### æŠ€æœ¯ç‰¹æ€§
- ğŸ’¾ **æœ¬åœ°æ•°æ®åº“**ï¼šSQLite æ•°æ®åº“å­˜å‚¨
- ğŸŒ **ç½‘ç»œé€šä¿¡**ï¼šTCP Socket é•¿è¿æ¥
- ğŸ“ **æ–‡ä»¶ç®¡ç†**ï¼šä¸´æ—¶æ–‡ä»¶å­˜å‚¨ç®¡ç†
- ğŸ“ **æ—¥å¿—ç³»ç»Ÿ**ï¼šå®Œå–„çš„æ—¥å¿—è®°å½•
- ğŸ”„ **è‡ªåŠ¨é‡è¿**ï¼šç½‘ç»œå¼‚å¸¸è‡ªåŠ¨é‡è¿æœºåˆ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **GUI æ¡†æ¶**ï¼šQt 6.5+
- **æ„å»ºç³»ç»Ÿ**ï¼šCMake 3.19+
- **UI ç»„ä»¶åº“**ï¼šElaWidgetTools
- **æ•°æ®åº“**ï¼šSQLite
- **ç½‘ç»œ**ï¼šQt Network (TCP Socket)
- **AI é›†æˆ**ï¼šDeepSeek API
- **ç¼–ç¨‹è¯­è¨€**ï¼šC++17

## ğŸ“ é¡¹ç›®ç»“æ„

```
xzcc/
â”œâ”€â”€ include/                      # å¤´æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ ElaWidgetTools/          # UI ç»„ä»¶åº“å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ private/                 # ç§æœ‰å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ Def.h                    # å…¨å±€å®šä¹‰
â”‚   â””â”€â”€ stdafx.h                 # é¢„ç¼–è¯‘å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€ src/                         # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ clientrequesthandler.cpp/h   # å®¢æˆ·ç«¯è¯·æ±‚å¤„ç†
â”‚   â”‚   â”œâ”€â”€ commondata.cpp/h             # å…¬å…±æ•°æ®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ loginverify.cpp/h            # ç™»å½•éªŒè¯
â”‚   â”‚   â”œâ”€â”€ pagedata.h                   # é¡µé¢æ•°æ®ç»“æ„
â”‚   â”‚   â””â”€â”€ database/                    # æ•°æ®åº“æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ databasemanager.cpp/h    # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”‚       â”œâ”€â”€ dbcachehelper.cpp/h      # æ•°æ®åº“ç¼“å­˜è¾…åŠ©
â”‚   â”‚       â”œâ”€â”€ friendshipdao.cpp/h      # å¥½å‹å…³ç³» DAO
â”‚   â”‚       â”œâ”€â”€ groupdao.cpp/h           # ç¾¤ç»„ DAO
â”‚   â”‚       â””â”€â”€ userdao.cpp/h            # ç”¨æˆ· DAO
â”‚   â”‚
â”‚   â”œâ”€â”€ page-view/               # é¡µé¢è§†å›¾æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ landpage.cpp/h               # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ registerpage.cpp/h           # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ contactpage.cpp/h            # è”ç³»äººé¡µ
â”‚   â”‚   â”œâ”€â”€ conversationpage.cpp/h       # ä¼šè¯é¡µ
â”‚   â”‚   â”œâ”€â”€ messagepage.cpp/h            # æ¶ˆæ¯é¡µ
â”‚   â”‚   â”œâ”€â”€ userpage.cpp/h               # ç”¨æˆ·é¡µ
â”‚   â”‚   â”œâ”€â”€ creategrouppage.cpp/h        # åˆ›å»ºç¾¤ç»„é¡µ
â”‚   â”‚   â”œâ”€â”€ addpage.cpp/h                # æ·»åŠ å¥½å‹é¡µ
â”‚   â”‚   â”œâ”€â”€ emojipickerpage.cpp/h        # è¡¨æƒ…é€‰æ‹©å™¨
â”‚   â”‚   â”œâ”€â”€ screenshotpage.cpp/h         # æˆªå›¾é¡µ
â”‚   â”‚   â”œâ”€â”€ aboutpage.cpp/h              # å…³äºé¡µ
â”‚   â”‚   â”œâ”€â”€ noticepage.cpp/h             # é€šçŸ¥é¡µ
â”‚   â”‚   â”œâ”€â”€ editinfopage.cpp/h           # ç¼–è¾‘ä¿¡æ¯é¡µ
â”‚   â”‚   â”œâ”€â”€ groupmemberdock.cpp/h        # ç¾¤æˆå‘˜é¢æ¿
â”‚   â”‚   â”œâ”€â”€ contactdelegate.cpp/h        # è”ç³»äººå§”æ‰˜
â”‚   â”‚   â”œâ”€â”€ contactmodel.cpp/h           # è”ç³»äººæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ effect-component/            # ç‰¹æ•ˆç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ loadingdialog.cpp/h      # åŠ è½½å¯¹è¯æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ msg-bubble/              # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ssmaskwidget.cpp/h       # é®ç½©ç»„ä»¶
â”‚   â”‚   â””â”€â”€ llm-page/                    # LLM èŠå¤©é¡µé¢
â”‚   â”‚       â””â”€â”€ LLMChatPage.cpp/h        # AI èŠå¤©é¡µé¢
â”‚   â”‚
â”‚   â””â”€â”€ utils/                   # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ net-work/                    # ç½‘ç»œå·¥å…·
â”‚       â”‚   â””â”€â”€ clientconserver.cpp/h    # å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨
â”‚       â”œâ”€â”€ log/                         # æ—¥å¿—å·¥å…·
â”‚       â”‚   â””â”€â”€ logfile.cpp/h            # æ—¥å¿—æ–‡ä»¶
â”‚       â”œâ”€â”€ get-time/                    # æ—¶é—´å·¥å…·
â”‚       â”‚   â””â”€â”€ GetCurTime.cpp/h         # è·å–å½“å‰æ—¶é—´
â”‚       â””â”€â”€ common-func/                 # é€šç”¨å‡½æ•°
â”‚           â””â”€â”€ CommonFunc.cpp/h         # é€šç”¨å‡½æ•°åº“
â”‚
â”œâ”€â”€ lib/                         # ç¬¬ä¸‰æ–¹åº“
â”‚   â””â”€â”€ ElaWidgetToolsd.lib      # UI ç»„ä»¶åº“
â”‚
â”œâ”€â”€ build/                       # æ„å»ºç›®å½•
â”œâ”€â”€ main.cpp                     # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ mainwindow.cpp/h             # ä¸»çª—å£
â”œâ”€â”€ CMakeLists.txt               # CMake æ„å»ºé…ç½®
â”œâ”€â”€ CMakeLists.txt.user          # Qt Creator ç”¨æˆ·é…ç½®
â””â”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
```

## ğŸ”§ æ„å»ºè¦æ±‚

### ç¯å¢ƒè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11 (æ¨è) / Linux
- **Qt ç‰ˆæœ¬**ï¼šQt 6.5 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ç¼–è¯‘å™¨**ï¼š
  - Windows: MSVC 2022 (æ¨è) / MinGW
  - Linux: GCC 9+ / Clang 10+
- **CMake**ï¼š3.19 æˆ–æ›´é«˜ç‰ˆæœ¬

### ä¾èµ–åº“
- Qt6::Core
- Qt6::Widgets
- Qt6::Network
- Qt6::Sql
- Qt6::Concurrent
- ElaWidgetTools (UI ç»„ä»¶åº“)

## ğŸš€ æ„å»ºå’Œè¿è¡Œ

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <é¡¹ç›®åœ°å€>
cd xzcc
```

### 2. åˆ›å»ºæ„å»ºç›®å½•
```bash
mkdir build
cd build
```

### 3. é…ç½®å’Œæ„å»º
```bash
# ä½¿ç”¨ Qt çš„ CMake å·¥å…·
cmake .. -G "Ninja" -DCMAKE_PREFIX_PATH=path/to/qt
cmake --build . --config Release
```

### 4. è¿è¡Œç¨‹åº
```bash
# Windows
./Release/chatclient.exe

# Linux
./chatclient
```

## ğŸ“– ä¸»è¦æ¨¡å—è¯´æ˜

### æ ¸å¿ƒæ¨¡å— (core/)
- **ClientRequestHandler**ï¼šå¤„ç†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„è¯·æ±‚å“åº”
- **CommonData**ï¼šå…¨å±€æ•°æ®ç®¡ç†ï¼Œå•ä¾‹æ¨¡å¼
- **LoginVerify**ï¼šç”¨æˆ·ç™»å½•éªŒè¯é€»è¾‘
- **DatabaseManager**ï¼šæ•°æ®åº“åˆå§‹åŒ–å’Œç®¡ç†

### æ•°æ®åº“æ¨¡å— (core/database/)
- **UserDAO**ï¼šç”¨æˆ·æ•°æ®è®¿é—®å¯¹è±¡
- **FriendshipDAO**ï¼šå¥½å‹å…³ç³»æ•°æ®è®¿é—®
- **GroupDAO**ï¼šç¾¤ç»„æ•°æ®è®¿é—®
- **DBCacheHelper**ï¼šæ•°æ®åº“ç¼“å­˜è¾…åŠ©å·¥å…·

### é¡µé¢æ¨¡å— (page-view/)
- **LandPage**ï¼šç”¨æˆ·ç™»å½•é¡µé¢
- **RegisterPage**ï¼šç”¨æˆ·æ³¨å†Œé¡µé¢
- **ContactPage**ï¼šè”ç³»äººç®¡ç†é¡µé¢
- **ConversationPage**ï¼šèŠå¤©ä¼šè¯é¡µé¢
- **MessagePage**ï¼šæ¶ˆæ¯è¯¦æƒ…é¡µé¢
- **LLMChatPage**ï¼šAI åŠ©æ‰‹èŠå¤©é¡µé¢

### å·¥å…·æ¨¡å— (utils/)
- **ClientConServer**ï¼šTCP ç½‘ç»œè¿æ¥ç®¡ç†
- **LogFile**ï¼šæ—¥å¿—æ–‡ä»¶ç®¡ç†
- **CommonFunc**ï¼šé€šç”¨å·¥å…·å‡½æ•°
- **GetCurTime**ï¼šæ—¶é—´è·å–å·¥å…·

## ğŸ”Œ ç½‘ç»œé…ç½®

é»˜è®¤æœåŠ¡å™¨é…ç½®ï¼ˆ`src/utils/net-work/clientconserver.h:13-14`ï¼‰ï¼š
```cpp
#define IP "192.168.200.130"
#define PORT 8888
```

## ğŸ¤– AI åŠŸèƒ½é…ç½®

DeepSeek API é…ç½®ï¼ˆ`src/page-view/llm-page/LLMChatPage.h:42-44`ï¼‰ï¼š
```cpp
#define DEEPSEEK_API_KEY "sk-3792821f6c8d4d119d75d6838850ba56"
#define DEEPSEEK_API_URL "https://api.deepseek.com/chat/completions"
#define DEEPSEEK_MODEL "deepseek-chat"
```

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

1. **API Key å®‰å…¨**ï¼šç”Ÿäº§ç¯å¢ƒä¸­è¯·ä¸è¦å°† API Key ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œåº”ä½¿ç”¨é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡
2. **æ•°æ®åº“è·¯å¾„**ï¼šé»˜è®¤æ•°æ®åº“æ–‡ä»¶ä¸º `chatclient.db`ï¼Œä½äºç¨‹åºè¿è¡Œç›®å½•
3. **æ—¥å¿—æ–‡ä»¶**ï¼šæ—¥å¿—æ–‡ä»¶ä½äº `log/` ç›®å½•ä¸‹
4. **å›¾ç‰‡ç¼“å­˜**ï¼šèŠå¤©å›¾ç‰‡ä¸´æ—¶å­˜å‚¨åœ¨ç³»ç»Ÿä¸´æ—¶ç›®å½•ä¸­
5. **ç½‘ç»œé‡è¿**ï¼šå®¢æˆ·ç«¯æ”¯æŒè‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œæœ€å¤§é‡è¯•æ¬¡æ•°å’Œé—´éš”å¯åœ¨ `ClientConServer` ä¸­é…ç½®

## ğŸ“„ æ•°æ®ç»“æ„

### ç”¨æˆ·æ•°æ®ç»“æ„ (UserBaseInfoData)
- `ssid`ï¼šç”¨æˆ· ID
- `username`ï¼šç”¨æˆ·å
- `avatarPath`ï¼šå¤´åƒè·¯å¾„

### æ¶ˆæ¯æ•°æ®ç»“æ„ (MessageContentData)
- `senderSSID`ï¼šå‘é€è€… ID
- `contentType`ï¼šæ¶ˆæ¯ç±»å‹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€æ–‡ä»¶ã€è¡¨æƒ…ï¼‰
- `content`ï¼šæ¶ˆæ¯å†…å®¹
- `recipient`ï¼šæ¥æ”¶è€…ä¿¡æ¯
- `createTime`ï¼šåˆ›å»ºæ—¶é—´

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

- **å¼€å‘è€…**ï¼šå›¢é˜Ÿå¼€å‘
- **è”ç³»æ–¹å¼**ï¼šè¯·é€šè¿‡ GitHub Issues è”ç³»æˆ‘ä»¬

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
